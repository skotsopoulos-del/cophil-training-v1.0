%%| fig-cap: "U-Net Architecture Overview"
%%| fig-width: 100%

graph TD
    A[Input Image<br/>H × W × C] --> B[Encoder<br/>Contracting Path]
    B --> C[Bottleneck<br/>Most Compressed]
    C --> D[Decoder<br/>Expansive Path]
    D --> E[Output Mask<br/>H × W × Classes]
    
    B -.->|Skip Connection 1| D
    B -.->|Skip Connection 2| D
    B -.->|Skip Connection 3| D
    B -.->|Skip Connection 4| D
    
    B --> B1["Feature Extraction<br/>Spatial dimension ↓<br/>Feature depth ↑"]
    C --> C1["Global Context<br/>What is in image"]
    D --> D1["Spatial Reconstruction<br/>Spatial dimension ↑<br/>Feature depth ↓"]
    
    style A fill:#0066cc,stroke:#003d7a,stroke-width:2px,color:#fff
    style E fill:#00aa44,stroke:#006622,stroke-width:2px,color:#fff
    style C fill:#ff8800,stroke:#cc6600,stroke-width:2px,color:#fff